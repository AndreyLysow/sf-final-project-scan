"use strict";(self.webpackChunksf_finproject_scan=self.webpackChunksf_finproject_scan||[]).push([[468],{8468:function(s,e,t){t.r(e),t.d(e,{default:function(){return p}});var i=t(2791);var a=t.p+"static/media/picking-up-key.8375cb216e6878be8864b5ae536b66fa.svg",n=t(1413),o=t(8640),r=t(7689),c=t(1087);var u=t.p+"static/media/img-lock.a6528caf57d4da5d92d78ac84f2a0412.svg";var l=t.p+"static/media/logo-google.65f7b57ae92ef76823e178198e44ce84.svg";var h=t.p+"static/media/logo-facebook.90321a5fd50a49a0f211e0983fa91923.svg";var m=t.p+"static/media/logo-yandex.e257b60fd9cd54013460e57540a4dddd.svg",d=t(4441),k=t(7257),f=t(3286),y=t(184),g=(0,k.Pi)((function(){var s=(0,r.s0)();(0,i.useEffect)((function(){d.Z.token&&s("/")}));var e=(0,o.cI)({mode:"onBlur",defaultValues:{login:"sf_student9",password:"DTdEwAn"}}),t=e.register,a=e.handleSubmit,k=e.reset,g=e.formState,p=g.errors,v=g.isValid;return(0,y.jsxs)("form",{className:"form",onSubmit:a((function(s){d.Z.setLogin(s.login),d.Z.setPassword(s.password),d.Z.getToken(),k()})),children:[(0,y.jsx)("img",{className:"form-img__lock",src:u,alt:""}),(0,y.jsxs)("div",{className:"form-links",children:[(0,y.jsx)("button",{className:"form-link",children:(0,y.jsx)(c.rU,{to:"/auth",children:"\u0412\u043e\u0439\u0442\u0438"})}),(0,y.jsx)("button",{className:"form-link form-link__disabled",children:(0,y.jsx)(c.rU,{to:"/error",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]}),(0,y.jsxs)("label",{className:"form-label",children:[d.Z.isAuthError?"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430":"\u041b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430:",(0,y.jsx)("input",(0,n.Z)((0,n.Z)({},t("login",{required:!0})),{},{className:null!==p&&void 0!==p&&p.login?"form-input form-input__invalid":"form-input",type:"text"})),(null===p||void 0===p?void 0:p.login)&&(0,y.jsx)("p",{className:"error-message",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),(0,y.jsxs)("label",{className:"form-label",children:[d.Z.isAuthError?"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c":"\u041f\u0430\u0440\u043e\u043b\u044c:",(0,y.jsx)("input",(0,n.Z)((0,n.Z)({},t("password",{required:!0})),{},{className:null!==p&&void 0!==p&&p.password?"form-input form-input__invalid":"form-input",type:"password",autoComplete:"on"})),(null===p||void 0===p?void 0:p.password)&&(0,y.jsx)("p",{className:"error-message",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"})]}),d.Z.isLoading?(0,y.jsx)("button",{disabled:!v,className:"form-button__submit",type:"submit",children:(0,y.jsx)(f.Z,{})}):(0,y.jsx)("button",{disabled:!v,className:"form-button__submit",type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"}),(0,y.jsx)(c.rU,{className:"repare-password",to:"/error",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,y.jsx)("p",{className:"sign-with",children:"\u0412\u043e\u0439\u0442\u0438 \u0447\u0435\u0440\u0435\u0437:"}),(0,y.jsxs)("div",{className:"sign-socials",children:[(0,y.jsx)(c.rU,{to:"https://google.com",target:"_blank",children:(0,y.jsx)("img",{src:l,alt:""})}),(0,y.jsx)(c.rU,{to:"https://facebook.com",target:"_blank",children:(0,y.jsx)("img",{src:h,alt:""})}),(0,y.jsx)(c.rU,{to:"https://yandex.ru",target:"_blank",children:(0,y.jsx)("img",{src:m,alt:""})})]})]})}));var p=function(){return(0,y.jsxs)("div",{className:"authorize",children:[(0,y.jsxs)("h2",{className:"auth__title",children:["\u0414\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 ",(0,y.jsx)("br",{})," \u043d\u0430 \u0442\u0430\u0440\u0438\u0444, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f."]}),(0,y.jsx)("img",{className:"auth-img",src:a,alt:"key"}),(0,y.jsx)(g,{})]})}},3286:function(s,e,t){t.d(e,{Z:function(){return a}});t(2791);var i=t(184);var a=function(){return(0,i.jsxs)("div",{className:"run",children:[(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{}),(0,i.jsx)("div",{})]})}},4441:function(s,e,t){var i=t(3433),a=t(5671),n=t(3144),o=t(1243),r="https://gateway.scan-interfax.ru",c=t(4098).makeAutoObservable,u=new(function(){function s(){(0,a.Z)(this,s),this.login="",this.password="",this.token="",this.isAuthError=!1,this.isLoading=!1,this.isCompaniesLoading=!1,this.isSummaryLoading=!1,this.isDocumentLoading=!1,this.companiesInfo={used:0,limit:0},this.inn=null,this.tonality="any",this.limit=0,this.startDate=new Date,this.endDate=new Date,this.summaryDates=[],this.summaryTotal=[],this.summaryRisks=[],this.summaryAll=0,this.isSummaryError=!1,this.IDs={},this.document=[],this.searchFormChecks={isFullness:!1,isBusiness:!1,isMainRole:!1,isRisksOnly:!1,isTechNews:!1,isAnnouncement:!1,isNews:!1},c(this)}return(0,n.Z)(s,[{key:"setLogin",value:function(s){this.login=s}},{key:"setPassword",value:function(s){this.password=s}},{key:"setToken",value:function(s){this.token=s,o.Z.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(s),e}),(function(s){return Promise.reject(s)}))}},{key:"setAuthError",value:function(s){this.isAuthError=s}},{key:"setLoading",value:function(s){this.isLoading=s}},{key:"setCompaniesLoading",value:function(s){this.isCompaniesLoading=s}},{key:"setSummaryLoading",value:function(s){this.isSummaryLoading=s}},{key:"setDocumentLoading",value:function(s){this.isDocumentLoading=s}},{key:"setCompanyLimits",value:function(s,e){this.companiesInfo.used=s,this.companiesInfo.limit=e}},{key:"setInn",value:function(s){this.inn=s}},{key:"setTonality",value:function(s){this.tonality=s}},{key:"setLimit",value:function(s){this.limit=s}},{key:"setStartDate",value:function(s){this.startDate=s}},{key:"setEndDate",value:function(s){this.endDate=s}},{key:"setSummaryResult",value:function(s){this.summaryResult=s}},{key:"setSummaryDates",value:function(s){this.summaryDates=s}},{key:"setSummaryTotal",value:function(s){this.summaryTotal=s}},{key:"setSummaryRisks",value:function(s){this.summaryRisks=s}},{key:"setSummaryAll",value:function(s){this.summaryAll=s}},{key:"setSummaryError",value:function(s){this.isSummaryError=s}},{key:"setIDs",value:function(s){this.IDs=s}},{key:"setDocument",value:function(s){this.document=s}},{key:"setSearchFormChecks",value:function(s){switch(s){case"isFullness":this.searchFormChecks.isFullness=!this.searchFormChecks.isFullness;break;case"isBusiness":this.searchFormChecks.isBusiness=!this.searchFormChecks.isBusiness;break;case"isMainRole":this.searchFormChecks.isMainRole=!this.searchFormChecks.isMainRole;break;case"isRisksOnly":this.searchFormChecks.isRisksOnly=!this.searchFormChecks.isRisksOnly;break;case"isTechNews":this.searchFormChecks.isTechNews=!this.searchFormChecks.isTechNews;break;case"isAnnouncement":this.searchFormChecks.isAnnouncement=!this.searchFormChecks.isAnnouncement;break;case"isNews":this.searchFormChecks.isNews=!this.searchFormChecks.isNews}}},{key:"resetSearchFormChecks",value:function(){for(var s in this.searchFormChecks)this.searchFormChecks[s]=!1}},{key:"getToken",value:function(){var s=this;this.setLoading(!0),o.Z.post(r+"/api/v1/account/login",{login:this.login,password:this.password}).then((function(e){if(200===e.status){s.setToken(e.data.accessToken),localStorage.setItem("token",e.data.accessToken),localStorage.setItem("login",s.login),s.setLoading(!1);var t=new Date,i=new Date(t);i.setDate(t.getDate()+2),localStorage.setItem("expire",i)}})).catch((function(e){console.log(e),e.response?401===e.response.status&&s.setAuthError(!0):console.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438:",e.message),s.setLoading(!1),s.setToken(""),s.setLogin(""),s.setPassword("")}))}},{key:"checkToken",value:function(){""!==localStorage.getItem("token")&&localStorage.getItem("expire")>new Date?this.setToken(localStorage.getItem("token")):localStorage.clear()}},{key:"getCompaniesInfo",value:function(){var s=this;this.setCompaniesLoading(!0),o.Z.get(r+"/api/v1/account/info",{headers:{Authorization:"Bearer ".concat(this.token)}}).then((function(e){s.setCompanyLimits(e.data.eventFiltersInfo.usedCompanyCount,e.data.eventFiltersInfo.companyLimit),s.setCompaniesLoading(!1)})).catch((function(s){console.log(s)}))}},{key:"getHistograms",value:function(){var s=this;this.setSummaryLoading(!0),o.Z.post(r+"/api/v1/objectsearch/histograms",{issueDateInterval:{startDate:this.startDate,endDate:this.endDate},searchContext:{targetSearchEntitiesContext:{targetSearchEntities:[{type:"company",sparkId:null,entityId:null,inn:this.inn,maxFullness:this.searchFormChecks.isFullness,inBusinessNews:this.searchFormChecks.isBusiness}],onlyMainRole:this.searchFormChecks.isMainRole,tonality:this.tonality,onlyWithRiskFactors:this.searchFormChecks.isRisksOnly,riskFactors:{and:[],or:[],not:[]},themes:{and:[],or:[],not:[]}},themesFilter:{and:[],or:[],not:[]}},searchArea:{includedSources:[],excludedSources:[],includedSourceGroups:[],excludedSourceGroups:[]},attributeFilters:{excludeAnnouncements:this.searchFormChecks.isAnnouncement,excludeDigests:this.searchFormChecks.isNews},similarMode:"duplicates",limit:this.limit,sortType:"issueDate",sortDirectionType:"desc",intervalType:"month",histogramTypes:["totalDocuments","riskFactors"]}).then((function(e){s.setSummaryResult(e),200===s.summaryResult.status&&null!==s.summaryResult.data.data&&Array.isArray(s.summaryResult.data.data)&&0!==s.summaryResult.data.data.length||s.setSummaryError(!0),s.setSummaryLoading(!1)})).catch((function(e){s.setSummaryError(!0),console.log(e),s.setSummaryLoading(!1)}))}},{key:"getIDs",value:function(){var s=this;o.Z.post(r+"/api/v1/objectsearch",{issueDateInterval:{startDate:this.startDate,endDate:this.endDate},searchContext:{targetSearchEntitiesContext:{targetSearchEntities:[{type:"company",sparkId:null,entityId:null,inn:this.inn,maxFullness:this.searchFormChecks.isFullness,inBusinessNews:this.searchFormChecks.isBusiness}],onlyMainRole:this.searchFormChecks.isMainRole,tonality:this.tonality,onlyWithRiskFactors:this.searchFormChecks.isRisksOnly,riskFactors:{and:[],or:[],not:[]},themes:{and:[],or:[],not:[]}},themesFilter:{and:[],or:[],not:[]}},searchArea:{includedSources:[],excludedSources:[],includedSourceGroups:[],excludedSourceGroups:[]},attributeFilters:{excludeTechNews:this.searchFormChecks.isTechNews,excludeAnnouncements:this.searchFormChecks.isAnnouncement,excludeDigests:this.searchFormChecks.isNews},similarMode:"duplicates",limit:this.limit,sortType:"issueDate",sortDirectionType:"desc",intervalType:"month",histogramTypes:["totalDocuments","riskFactors"]}).then((function(e){var t=[];e.data.items.map((function(s){return t.push(s.encodedId)})),s.setIDs(t)})).catch((function(s){console.log(s)}))}},{key:"getFirstDocuments",value:function(){var s=this;o.Z.post(r+"/api/v1/documents",{ids:this.IDs}).then((function(e){s.setDocument(e.data)})).catch((function(s){console.log(s)}))}},{key:"getNextDocuments",value:function(s){var e=this;this.setDocumentLoading(!0),o.Z.post(r+"/api/v1/documents",{ids:s}).then((function(s){e.setDocument([].concat((0,i.Z)(e.document),(0,i.Z)(s.data))),e.setDocumentLoading(!1)})).catch((function(s){console.log(s),e.setDocumentLoading(!1)}))}}]),s}());e.Z=u}}]);
//# sourceMappingURL=468.e4d5a7a2.chunk.js.map